<div class="userTreeMain">
  <div class="py-1 user-tree-page userTreeContent">
    <div class="container text-center mb-5 refArea" *ngIf="!wallet">
      <p class="orangered">{{"NoWalletNote2"|translate}}</p>
    </div>

    <div class="container text-center mb-5 refArea" *ngIf="!myReferralUrl && wallet">
      <div class="py-4">
        <h4 class="title">{{"You are NOT a PAY.COOL member"|translate}}.</h4>
      </div>
      <div>
        <div class="center py-4">
          <label for="refcode">{{"Referral code"| translate}}</label>
          <input type="text" class="inputfield" placeholder="{{'Enter refcode'|translate}}" [(ngModel)]="refCode"
            name="refcode" [disabled]="refCodeComeIn" width="560" required>
        </div>
        <div *ngIf="errMsg" class="red">
          {{errMsg|translate}}
        </div>
        <div class="wrapper-center py-3">
          <button class="btn btn-primary" (click)="joinForFree()" type="submit" [disabled]="!refCode">{{"Join for
            free"|translate}}</button>
        </div>
      </div>
    </div>

    <div class="container  text-center mb-5 refArea" *ngIf="myReferralUrl">
      <h5>{{"My wallet"| translate}}: <u>{{wallet.name}}</u></h5>
      <br>
      <div>
        {{"My referral link"| translate}}:
        <a class="link lightgreen">
          <span class="cyan">{{myReferralUrl}}</span>
        </a>
      </div>
      <div id="myWalletId">
        <div class="py-2">{{"My referral-code"| translate}}: {{walletAddress}}</div>
        <qrcode [qrdata]="walletAddress" [width]="256" [errorCorrectionLevel]="'M'"></qrcode>
      </div>
    </div>

    <!--
      <div *ngIf="children">
          <app-tf-tree [children]="children" [walletAddress]="walletAddress"></app-tf-tree>
      </div>
      -->
  </div>


  <div class="container memberArea userTreeContent" *ngIf="user">
    <div class="row">
      <div class="col-md-12">
        <div class="d-flex justify-content-center align-items-center flex-column">
          <div>
            User:
            <a class="link" (click)="changeParentAddress(user)">
              {{user}}
            </a>
          </div>
          <div>
            Referral:
            <a class="link" (click)="changeParentAddress(referral)">
              {{referral}}
            </a>
          </div>
          <div>
            total children's count: {{totalCount}}
          </div>
        </div>
        <nav class="d-flex justify-content-center">
          <ul class="pagination">
            <li class="page-item">
              <a class="page-link" (click)="gotoPage(pageNum - 1)">Previous</a>
            </li>
            <li class="page-item" *ngIf="totalPageNum >= 0">
              <a class="page-link" (click)="gotoPage(0)">1</a>
            </li>
            <li class="page-item" *ngIf="totalPageNum >= 1">
              <a class="page-link" (click)="gotoPage(1)">2</a>
            </li>
            <li class="page-item" *ngIf="totalPageNum >= 2">
              <a class="page-link" (click)="gotoPage(2)">3</a>
            </li>
            <li class="page-item">
              <a class="page-link" (click)="gotoPage(pageNum + 1)">Next</a>
            </li>
          </ul>
        </nav>
        <ul class="responsive-table">
          <li class="table-header">
            <div class="col col-4">{{'User' | translate}}</div>
            <div class="col col-4">{{'Ref address' | translate}}</div>
            <div class="col col-2">{{'Status' | translate}}</div>
          </li>
          <li class="table-row" *ngFor="let item of users">
            <div class="col col-4" data-label="User">
              <a class="link" (click)="changeParentAddress(item.user)">
                {{item.user}}({{item.childrenCount}})
              </a>
            </div>
            <div class="col col-4" data-label="RefAdd">
              <a class="link" (click)="changeParentAddress(item.referral)">
                {{item.referral}}
              </a>
            </div>
            <div class="col col-2" data-label="Status">{{showStatus(item.newStatus)}}</div>

          </li>
        </ul>
        <nav class="d-flex justify-content-center">
          <ul class="pagination">
            <li class="page-item">
              <a class="page-link" (click)="gotoPage(pageNum - 1)">Previous</a>
            </li>
            <li class="page-item" *ngIf="totalPageNum >= 0">
              <a class="page-link" (click)="gotoPage(0)">1</a>
            </li>
            <li class="page-item" *ngIf="totalPageNum >= 1">
              <a class="page-link" (click)="gotoPage(1)">2</a>
            </li>
            <li class="page-item" *ngIf="totalPageNum >= 2">
              <a class="page-link" (click)="gotoPage(2)">3</a>
            </li>
            <li class="page-item">
              <a class="page-link" (click)="gotoPage(pageNum + 1)">Next</a>
            </li>
          </ul>
        </nav>
      </div>
    </div>
  </div>
</div>